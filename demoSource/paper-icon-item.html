<link rel="import" href="../polymer/lib/elements/dom-if.html">
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-styles/typography.html">
<link rel="import" href="paper-item-behavior.html">
<link rel="import" href="paper-item-shared-styles.html">

<!--
`<paper-icon-item>` is a convenience element to make an item with icon. It is an interactive list
item with a fixed-width icon area, according to Material Design. This is useful if the icons are of
varying widths, but you want the item bodies to line up. Use this like a `<paper-item>`. The child
node with the attribute `item-icon` is placed in the icon area.

    <paper-icon-item>
      <iron-icon icon="favorite" item-icon></iron-icon>
      Favorite
    </paper-icon-item>
    <paper-icon-item>
      <div class="avatar" item-icon></div>
      Avatar
    </paper-icon-item>

### Styling

The following custom properties and mixins are available for styling:

Custom property               | Description                                    | Default
------------------------------|------------------------------------------------|----------
`--paper-item-icon-width`     | Width of the icon area                         | `56px`
`--paper-item-icon`           | Mixin applied to the icon area                 | `{}`
`--paper-icon-item`           | Mixin applied to the item                      | `{}`
`--paper-item-selected-weight`| The font weight of a selected item             | `bold`
`--paper-item-selected`       | Mixin applied to selected paper-items                | `{}`
`--paper-item-disabled-color` | The color for disabled paper-items             | `--disabled-text-color`
`--paper-item-disabled`       | Mixin applied to disabled paper-items        | `{}`
`--paper-item-focused`        | Mixin applied to focused paper-items         | `{}`
`--paper-item-focused-before` | Mixin applied to :before focused paper-items | `{}`
-->

<dom-module id="paper-icon-item">
  <template>
    <style include="paper-item-shared-styles"></style>
    <style>
      :host>* {
        color: red
      }

      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --paper-font-subhead;
        @apply --paper-item;
        @apply --paper-icon-item;
      }

      ::slotted(span) {
        background: green
      }

      ::slotted(h1) {
        background: green
      }

      @media screen and (max-width:360px) {
        .content-icon {
          @apply --layout-horizontal;
          @apply --layout-center;
          width: var(--paper-item-icon-width, var(--paper-item-icon-default-width));
          @apply --paper-item-icon;
        }
        ::slotted(h1) {
          background: yellow
        }
      }
    </style>

    <div id="contentIcon" class="content-icon">
      <slot name="item-icon"></slot>
    </div>

    <template is="dom-if" if="married">This is true</template>

    <slot></slot>
  </template>

  <script>
    var MYVAR = window.MYVAR || {};
    (function(window, myVar) {
      class PaperIconItem extends Polymer.mixinBehaviors([Polymer.PaperItemBehavior], Polymer.Element) {
        static get is() {
          return 'paper-icon-item';
        }
        static get properties() {
          return {
            name: String,
            married: {
              type: Boolean,
              value: false
            }
          };
        }
        static get observers() {
          return ['greet(name)'];
        }
        ready() {
          this.addEventListener('tap', this.doSomething.bind(this));
          this.$.contentIcon.addEventListener('click', this._myPrivateMethod.bind(this));
          super.ready();
          console.log('Ready');
        }
        _myPrivateMethod() {
          this.married = !this.married;
        }
        doSomething() {
          this.$.contentIcon.fire('sample-event', {
            payload: 'some data',
            valid: true
          });
          console.log('This function does something');
          this.fire('event-name', {
            myData: 'some other data',
            moreOpts: true
          }, {
            cancellable: true,
            bubbles: false
          });
        }
        greet(name) {
          console.log('Hello ' + name);
          this.fire('greeting');
        }
      }
      window.customElements.define(PaperIconItem.is, PaperIconItem);
    }(window, MYVAR));
  </script>
</dom-module>